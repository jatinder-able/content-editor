describe('Meta service test cases', function () {
	beforeAll(function () {
		org.ekstep.services.config = {
			baseURL: org.ekstep.contenteditor.config.baseURL,
			apislug: org.ekstep.contenteditor.config.apislug
		}
	})

	var resourceBoundleRes = '{ "id": "ekstep.ekstep.config.resourebundles.find", "ver": "1.0", "ts": "2017-03-16T06:33:07ZZ", "params": { "resmsgid": "4109cdcd-418c-432d-9ff2-bafbe04a2c1d", "msgid": null, "err": null, "status": "successful", "errmsg": null }, "responseCode": "OK", "result": { "en": { "Serial Books": "Serial Books", "objects": "Objects Used in the Content", "downloadUrl": "Download Url", "Adaptive Feedback": "Adaptive Feedback", "iOS": "iOS", "History": "History", "skills": "Skills Required", "xxxhdpi": "xxxhdpi", "audio/mp3": "audio/mp3", "Kannada": "Kannada", "Learn from Mistakes": "Learn from Mistakes", "Story": "Story", "audio/mp4": "audio/mp4", "Tutorial": "Tutorial", "video/avi": "video/avi", "7-8": "7-8", "scaffolding": "Scaffolding", "Urdu": "Urdu", "minSupportedVersion": "Min Supported Version", "Kindergarten": "Kindergarten", "osId": "Operating System Id", "version": "Version", "Poems/Rhymes": "Poems/Rhymes", "quality": "Quality", "optStatus": "Optimization Status", "interactivityLevel": "Interactivity Level", "Gujarati": "Gujarati", "Game": "Game", "size": "Download File Size (in bytes)", "lastPublishedOn": "Published On", "concepts": "concepts", "domain": "Domain", "video/quicktime": "video/quicktime", "video/mp4": "video/mp4", "Art": "Art", "grayScaleAppIcon": "GrayScale App Icon", "video/webm": "video/webm", "activity": "activity", "Textual": "Textual", "imageCredits": "Image Credits", "document": "document", "posterImage": "Poster Image", "Holidays": "Holidays", "Right/Wrong": "Right/Wrong", "Listening": "Listening", "popularity": "Popularity", "genre": "Genre", "audio": "audio", "Speaker": "Speaker", "6-7": "6-7", "Nature": "Nature", "Rural": "Rural", "loadingMessage": "Loading Message", "Creative Commons Attribution (CC BY)": "Creative Commons Attribution (CC BY)", "video/3gpp": "video/3gpp", "words": "Dictionary Words", "Tamil": "Tamil", "Speaking": "Speaking", "idealScreenDensity": "Ideal Screen Density (dots per inch)", "Draft": "Draft", "video/mpeg": "video/mpeg", "Music": "Music", "Words": "Words", "Life Skills": "Life Skills", "Writing": "Writing", "learningObjective": "Learning Objective", "application/vnd.ekstep.content-archive": "application/vnd.ekstep.content-archive", "Audio": "Audio", "Other": "Other", "story": "story", "Creative Commons Attribution-ShareAlike (CC BY-SA)": "Creative Commons Attribution-ShareAlike (CC BY-SA)", "keywords": "Keywords", "State Curriculum": "State Curriculum", "image/gif": "image/gif", "language": "Language", "mimeType": "Mime Type", "source": "Source", "GPS": "GPS", "lastSubmittedBy": "Submitted for Review By", "appIcon": "Icon", "ecml": "ecml", "artifactUrl": "Artifact Url", "video/ogg": "video/ogg", "Non-Fiction": "Non-Fiction", "Hindi": "Hindi", "5-6": "5-6", "lastUpdatedBy": "Last Updated By", "image": "image", "visibility": "Visibility", "Free Art License": "Free Art License", "xhdpi": "xhdpi", "mediaType": "Media Type", "collection": "collection", "Interrupts": "Interrupts", "Motion Sensor": "Motion Sensor", "Medium": "Medium", "name": "Name", "image/jpg": "image/jpg", "numeracy": "numeracy", "attributions": "Owner", "Oriya": "Oriya", "activity_class": "Activity Class Name", "application/vnd.ekstep.html-archive": "application/vnd.ekstep.html-archive", "Parent": "Parent", "Folktales": "Folktales", "description": "Description", "video": "video", "Review": "Review", "idealScreenSize": "Ideal Screen Size", "content": "content", "ICSE": "ICSE", "Processing": "Processing", "duration": "Duration", "Urban": "Urban", "downloads": "No of downloads", "lastUpdatedOn": "Last Updated On", "Creative Commons Zero (CC0)": "Creative Commons Zero (CC0)", ">10": ">10", "owner": "Owner", "Redraft": "Redraft", "teachingMode": "Teaching Mode", "normal": "normal", "image/png": "image/png", "Adventure": "Adventure", "minGenieVersion": "Min Supported Genie Version", "CBSE": "CBSE", "audio/ogg": "audio/ogg", "Guidance": "Guidance", "pdf": "pdf", "createdBy": "Created By", "developer": "Developer", "worksheet": "worksheet", "Flagged": "Flagged", "templateType": "Template Type", "copyright": "Copyright", "Plays": "Plays", "voiceCredits": "Voice Credits", "School Stories": "School Stories", "editorState": "Editor State", "feedback": "Feedback", "gradeLevel": "Grade Level", "releaseNotes": "Release Notes", "collections": "collections", "children": "children", "NCERT": "NCERT", "collaborators": "Collaborators", "Asset": "Asset", "text": "Story Text", "translatable": "Translatable", "large": "large", "Retired": "Retired", "xlarge": "xlarge", "createdBy": "Portal Owner", "Live": "Live", "Reflection": "Reflection", "Compass": "Compass", "Bengali": "Bengali", "Against DRM license": "Against DRM license", "Low": "Low", "Scary": "Scary", "forkable": "Forkable", "Comics": "Comics", "Fiction": "Fiction", "status": "Status", "other": "other", "ldpi": "ldpi", "widget": "widget", "Help": "Help", "Draw": "Draw", "image/bmp": "image/bmp", "Complete": "Complete", "methods": "methods", "Worksheet": "Worksheet", "Practice": "Practice", "Open Audio License": "Open Audio License", "Diagnostic": "Diagnostic", "createdOn": "Created On", "screenshots": "screenshots", "minOsVersion": "Min Supported OS Version", "rating_a": "Analytical Rating", "Telugu": "Telugu", "Rich Feedback": "Rich Feedback", "ftb": "ftb", "Nepali": "Nepali", "theme": "Theme", "Mystery": "Mystery", "Malayalam": "Malayalam", "xxhdpi": "xxhdpi", "Alphabet Books": "Alphabet Books", "Abstract": "Abstract", "Flash Cards": "Flash Cards", "Assamese": "Assamese", "curriculum": "Curriculum", "Default": "Default", "filter": "Filter Criteria (JSON)", "Puzzle": "Puzzle", "lastSubmittedOn": "Submitted for Review On", "image/tiff": "image/tiff", "Gestures": "Gestures", "versionCreatedBy": "Version Created By", "<5": "<5", "Family": "Family", "Funny": "Funny", "feedbackType": "Feedback", "launchUrl": "Launch Url", "All": "All", "voice": "voice", "small": "small", "Geography": "Geography", "data": "Data", "audio/webm": "audio/webm", "rating": "User Rating", "Marathi": "Marathi", "recognition": "recognition", "body": "Body", "Pictorial": "Pictorial", "Mock": "Mock", "Template": "Template", "Picture Books": "Picture Books", "Hobby": "Hobby", "audio/x-wav": "audio/x-wav", "mcq": "mcq", "contentType": "Content Type", "item_sets": "item_sets", "mtf": "mtf", "Tactile": "Tactile", "thumbnail": "Thumbnail", "application/octet-stream": "application/octet-stream", "format": "Format", "ageGroup": "Age Group", "lastPublishedBy": "Published By", "versionDate": "Version Date", "Android": "Android", "audio/mpeg": "audio/mpeg", "literacy": "literacy", "license": "License", "application/vnd.ekstep.content-collection": "application/vnd.ekstep.content-collection", "publisher": "Publisher", "application/vnd.ekstep.ecml-archive": "application/vnd.ekstep.ecml-archive", "Collection": "Collection", "Concrete": "Concrete", "Microphone": "Microphone", "code": "Code", "image/jpeg": "image/jpeg", "hdpi": "hdpi", "Science": "Science", "image/svg+xml": "image/svg+xml", "Windows": "Windows", "Touch": "Touch", "8-10": "8-10", "checksum": "Checksum", "Chapter Books": "Chapter Books", "Visual": "Visual", "Grade 1": "Grade 1", "High": "High", "Grade 2": "Grade 2", "Grade 3": "Grade 3", "mdpi": "mdpi", "Grade 4": "Grade 4", "os": "OS", "Grade 5": "Grade 5", "soundCredits": "Audio/Sound Credits", "resources": "Resources", "Error": "Error", "application/vnd.android.package-archive": "application/vnd.android.package-archive", "pkgVersion": "Package Version", "English": "English", "Open Game License": "Open Game License", "Reading": "Reading", "Simulation": "Simulation", "Punjabi": "Punjabi", "Pending": "Pending" }, "ttl": 24 } }' // eslint-disable-line
	// eslint-disable-next-line
	var definitionsRes = '{ "id": "ekstep.definition.find", "ver": "1.0", "ts": "2017-03-14T11:19:09ZZ", "params": { "resmsgid": "f8844533-258a-4d55-ab03-659293327c3c", "msgid": null, "err": null, "status": "successful", "errmsg": null }, "responseCode": "OK", "result": { "definition_node": { "identifier": "DEFINITION_NODE_AssessmentItem", "objectType": "AssessmentItem", "properties": [ { "required": true, "dataType": "Text", "propertyName": "name", "title": "Name", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": true, "draft": false }, { "required": true, "dataType": "Text", "propertyName": "code", "title": "Code", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": true, "draft": false }, { "required": false, "dataType": "Multi-Select", "propertyName": "language", "title": "Language", "description": "", "category": "General", "displayProperty": "Editable", "range": [ "English", "Hindi", "Assamese", "Bengali", "Gujarati", "Kannada", "Malayalam", "Marathi", "Nepali", "Odia", "Punjabi", "Tamil", "Telugu", "Urdu", "Other" ], "defaultValue": "English", "renderingHints": "{}", "indexed": true, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "title", "title": "Title", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "template", "title": "Template", "description": "Template/Layout used to render this item", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": true, "dataType": "Text", "propertyName": "template_id", "title": "Template Id", "description": "Id of the Template/Layout used to render this item", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": true, "dataType": "Select", "propertyName": "type", "title": "Type", "description": "", "category": "general", "displayProperty": "Editable", "range": [ "embedded", "mcq", "ftb", "mtf", "recognition", "other" ], "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "List", "propertyName": "keywords", "title": "Keywords", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": true, "draft": false }, { "required": false, "dataType": "Select", "propertyName": "status", "title": "Status", "description": "", "category": "lifeCycle", "displayProperty": "Editable", "range": [ "Draft", "Review", "Live", "Retired", "Mock" ], "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "owner", "title": "Owner", "description": "", "category": "ownership", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "createdBy", "title": "Portal Owner", "description": "", "category": "ownership", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "JSON", "propertyName": "body", "title": "Question", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "question", "title": "Question Text", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "question_audio", "title": "Question Audio", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "question_image", "title": "Question Image", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "JSON", "propertyName": "media", "title": "Media", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "JSON", "propertyName": "model", "title": "Model", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "JSON", "propertyName": "options", "title": "Options", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "", "indexed": true, "draft": false }, { "required": false, "dataType": "JSON", "propertyName": "lhs_options", "title": "LHS Options", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "JSON", "propertyName": "rhs_options", "title": "RHS Options", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "JSON", "propertyName": "responses", "title": "Responses", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Number", "propertyName": "num_answers", "title": "Number of Answers", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "JSON", "propertyName": "answer", "title": "Answer", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }, { "required": false, "dataType": "JSON", "propertyName": "hints", "title": "Hints", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": true, "dataType": "Select", "propertyName": "qlevel", "title": "Question Level", "description": "", "category": "general", "displayProperty": "Editable", "range": [ "EASY", "MEDIUM", "DIFFICULT", "RARE" ], "defaultValue": "MEDIUM", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Select", "propertyName": "purpose", "title": "Purpose", "description": "", "category": "pedagogy", "displayProperty": "Editable", "range": [ "Knowledge", "Conceptual", "Application", "Problem Solving" ], "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Select", "propertyName": "depth_of_knowledge", "title": "Depth of Knowledge", "description": "", "category": "general", "displayProperty": "Editable", "range": [ "Recall", "Skill", "Strategic Thinking", "Extended Thinking" ], "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Select", "propertyName": "used_for", "title": "Used for", "description": "", "category": "general", "displayProperty": "Editable", "range": [ "assessment", "worksheet" ], "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Number", "propertyName": "max_score", "title": "Maximum Score", "description": "Maximum possible score for this item", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Boolean", "propertyName": "partial_scoring", "title": "Partial Scoring", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "feedback", "title": "Feedback", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Number", "propertyName": "max_time", "title": "Max Time", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": true, "draft": false }, { "required": false, "dataType": "Multi-Select", "propertyName": "gradeLevel", "title": "Grade Level", "description": "", "category": "Pedagogy", "displayProperty": "Editable", "range": [ "Kindergarten", "Grade 1", "Grade 2", "Grade 3", "Grade 4", "Grade 5", "Other" ], "defaultValue": "Grade 1", "renderingHints": "{ }", "indexed": true, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "source", "title": "Source", "description": "Source of the item (e.g. if it was imported from some other system)", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": true, "draft": false }, { "required": false, "dataType": "JSON", "propertyName": "rendering_metadata", "title": "Rendering Metadata", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "", "indexed": true, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "description", "title": "Description", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": true, "draft": false }, { "required": false, "dataType": "Date", "propertyName": "createdOn", "title": "Created On", "description": "", "category": "Lifecycle", "displayProperty": "Readonly", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": true, "draft": false }, { "required": false, "dataType": "Date", "propertyName": "lastUpdatedOn", "title": "Last Updated On", "description": "", "category": "audit", "displayProperty": "Readonly", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": true, "draft": false }, { "required": false, "dataType": "List", "propertyName": "learningObjective", "title": "Learning Objective", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": false, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "example", "title": "Examples", "description": "", "category": "general", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": false, "draft": false }, { "required": false, "dataType": "List", "propertyName": "validators", "title": "Validators", "description": "", "category": "lifeCycle", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": false, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "references", "title": "References", "description": "List of references", "category": "usageMetadata", "displayProperty": "Editable", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": false, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "createdBy", "title": "Created By", "description": "", "category": "Lifecycle", "displayProperty": "Readonly", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": false, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "lastUpdatedBy", "title": "Last Updated By", "description": "", "category": "audit", "displayProperty": "Readonly", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": false, "draft": false }, { "required": false, "dataType": "Number", "propertyName": "version", "title": "Version", "description": "", "category": "audit", "displayProperty": "Readonly", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": false, "draft": false }, { "required": false, "dataType": "Date", "propertyName": "versionDate", "title": "Version Date", "description": "", "category": "audit", "displayProperty": "Readonly", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": false, "draft": false }, { "required": false, "dataType": "Text", "propertyName": "versionCreatedBy", "title": "Version Created By", "description": "", "category": "audit", "displayProperty": "Readonly", "range": null, "defaultValue": "", "renderingHints": "{}", "indexed": false, "draft": false } ], "inRelations": null, "outRelations": [ { "relationName": "associatedTo", "objectTypes": [ "Concept" ], "title": "concepts", "description": "Concepts associated with this item", "required": false, "renderingHints": "{ }" } ], "systemTags": [ { "name": "Numeracy", "description": "Domain" }, { "name": "Literacy", "description": "Domain" }, { "name": "Non-Cog", "description": "Domain" }, { "name": "Mandatory", "description": "Is the item mandatory?" }, { "name": "Audio Interaction", "description": "Interactivity Type" }, { "name": "Visual Interaction", "description": "Interactivity Type" }, { "name": "Textual Interaction", "description": "Interactivity Type" }, { "name": "Touch Interaction", "description": "Interactivity Type" }, { "name": "No Intervention", "description": "Intervention Type" }, { "name": "Optional Intervention", "description": "Intervention Type" }, { "name": "Mandatory Intervention", "description": "Intervention Type" } ], "metadata": { "limit": 50, "lastUpdatedOn": "2017-01-12T17:47:38.307+0000", "defaultRes": "medium", "ttl": 24, "versionKey": "1484243258307" } } } } '

	it('should call definitions method and return data', function () {
		org.ekstep.services.metaService.get = jasmine.createSpy().and.callFake(function (url, headers, cb) {
			cb(undefined, definitionsRes)
		})
		spyOn(org.ekstep.services.metaService, 'getDefinitions').and.callThrough()
		spyOn(org.ekstep.services.metaService, 'getFromService').and.callThrough()
		// eslint-disable-next-line
		org.ekstep.services.metaService.getDefinitions('AssessmentItem', function (err, res) {
			expect(err).toBeUndefined()
			expect(res).toBe(definitionsRes)
			expect(org.ekstep.services.metaService.getFromService).toHaveBeenCalled()
		})
	})

	it('should call resourceBoundle method and return data', function () {
		org.ekstep.services.metaService.get = jasmine.createSpy().and.callFake(function (url, headers, cb) {
			cb(undefined, resourceBoundleRes)
		})
		spyOn(org.ekstep.services.metaService, 'getResourceBundles').and.callThrough()
		spyOn(org.ekstep.services.metaService, 'getFromService').and.callThrough()
		// eslint-disable-next-line
		org.ekstep.services.metaService.getResourceBundles('en', function (err, res) {
			expect(err).toBeUndefined()
			expect(res).toEqual(resourceBoundleRes)
			expect(org.ekstep.services.metaService.getFromService).toHaveBeenCalled()
		})
	})

	it('Should call configURL method', function () {
		spyOn(org.ekstep.services.metaService, 'configURL').and.callThrough()
		org.ekstep.services.metaService.configURL()

		expect(org.ekstep.services.metaService.configURL).toHaveBeenCalled()
	})

	it('Should call domainURL method', function () {
		spyOn(org.ekstep.services.metaService, 'domainURL').and.callThrough()
		org.ekstep.services.metaService.domainURL()

		expect(org.ekstep.services.metaService.domainURL).toHaveBeenCalled()
	})

	it('Should call getLearningConfig method', function () {
		spyOn(org.ekstep.services.metaService, 'getLearningConfig').and.callThrough()
		// eslint-disable-next-line
		org.ekstep.services.metaService.getLearningConfig(function (err, res) {
			expect(org.ekstep.services.metaService.getLearningConfig).toHaveBeenCalled()
		})
	})

	it('Should call getConfigOrdinals method', function () {
		spyOn(org.ekstep.services.metaService, 'getConfigOrdinals').and.callThrough()
		// eslint-disable-next-line
		org.ekstep.services.metaService.getConfigOrdinals(function (err, res) {
			expect(org.ekstep.services.metaService.getConfigOrdinals).toHaveBeenCalled()
		})
	})

	it('should trigger a callback with response on get frameworks', function (done) {
		var getFrameworkResponse = {'id': 'ekstep.learning.framework.read', 'ver': '1.0', 'ts': '2019-01-07T03:17:54ZZ', 'params': {'resmsgid': '8d9f53e6-e061-42bb-a08a-6cf1d03e99f9', 'msgid': null, 'err': null, 'status': 'successful', 'errmsg': null}, 'responseCode': 'OK', 'result': {'framework': {'identifier': 'NCFCOPY', 'code': 'NCFCOPY', 'translations': '{"hi":"एनसीएफ कॉपी","ka":"ncf ನಕಲಿಸಿ"}', 'name': 'AP Board', 'description': ' NCF framework..', 'graph_id': 'domain', 'nodeType': 'DATA_NODE', 'type': 'K-12', 'node_id': 31887, 'objectType': 'Framework', 'categories': [{'identifier': 'ncfcopy_board', 'code': 'board', 'terms': [{'associations': [{'identifier': 'ncfcopy_gradelevel_kindergarten', 'code': 'kindergarten', 'translations': null, 'name': 'Kindergarten', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}, {'identifier': 'ncfcopy_gradelevel_grade5', 'code': 'grade5', 'translations': null, 'name': 'Grade 5', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}, {'identifier': 'ncfcopy_gradelevel_grade1', 'code': 'grade1', 'translations': null, 'name': 'Grade 1', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}, {'identifier': 'ncfcopy_gradelevel_grade2', 'code': 'grade2', 'translations': null, 'name': 'Grade 2', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}, {'identifier': 'ncfcopy_gradelevel_grade4', 'code': 'grade4', 'translations': null, 'name': 'Grade 4', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}, {'identifier': 'ncfcopy_gradelevel_grade3', 'code': 'grade3', 'translations': null, 'name': 'Grade 3', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}], 'identifier': 'ncfcopy_board_ncert', 'code': 'ncert', 'translations': null, 'name': 'NCERT', 'description': '', 'index': 1, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_cbse', 'code': 'cbse', 'translations': null, 'name': 'CBSE', 'description': '', 'index': 2, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_icse', 'code': 'icse', 'translations': null, 'name': 'ICSE', 'description': '', 'index': 3, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_upboard', 'code': 'upboard', 'translations': '{"hi":"टेस्ट फ़्रेम्वर्क","ka":"ೂಾೇೂ ಿೀೋಸಾೈದೀಕ"}', 'name': 'UP Board', 'description': '', 'index': 4, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_apboard', 'code': 'apboard', 'translations': null, 'name': 'AP Board', 'description': '', 'index': 5, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_tnboard', 'code': 'tnboard', 'translations': null, 'name': 'TN Board', 'description': '', 'index': 6, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_ncte', 'code': 'ncte', 'translations': null, 'name': 'NCTE', 'description': '', 'index': 7, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_mscert', 'code': 'mscert', 'translations': '{"hi":"टेस्ट फ़्रेम्वर्क","ka":"ೂಾೇೂ ಿೀೋಸಾೈದೀಕ"}', 'name': 'MSCERT', 'description': '', 'index': 8, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_bser', 'code': 'bser', 'translations': null, 'name': 'BSER', 'description': '', 'index': 9, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_others', 'code': 'others', 'translations': null, 'name': 'Others', 'description': '', 'index': 10, 'category': 'board', 'status': 'Live'}], 'translations': null, 'name': 'Curriculum', 'description': '', 'index': 1, 'status': 'Live'}]}}} // eslint-disable-line
		org.ekstep.services.metaService.getFromService = jasmine.createSpy().and.callFake(function (url, headers, cb) {
			cb(undefined, {
				data: getFrameworkResponse
			})
		})
		var channel = 'NCFCOPY'
		org.ekstep.services.metaService.getFrameworks(channel, function (err, res) {
			expect(err).toBeUndefined()
			expect(res.data).toBeDefined()
			expect(res.data.responseCode).toEqual('OK')
			done()
		})
	})

	it('should trigger a callback with response on get categories', function (done) {
		var getCategoryResponse = {'id': 'ekstep.learning.framework.read', 'ver': '1.0', 'ts': '2019-01-07T03:17:54ZZ', 'params': {'resmsgid': '8d9f53e6-e061-42bb-a08a-6cf1d03e99f9', 'msgid': null, 'err': null, 'status': 'successful', 'errmsg': null}, 'responseCode': 'OK', 'result': {'framework': {'identifier': 'NCFCOPY', 'code': 'NCFCOPY', 'translations': '{"hi":"एनसीएफ कॉपी","ka":"ncf ನಕಲಿಸಿ"}', 'name': 'AP Board', 'description': ' NCF framework..', 'graph_id': 'domain', 'nodeType': 'DATA_NODE', 'type': 'K-12', 'node_id': 31887, 'objectType': 'Framework', 'categories': [{'identifier': 'ncfcopy_board', 'code': 'board', 'terms': [{'associations': [{'identifier': 'ncfcopy_gradelevel_kindergarten', 'code': 'kindergarten', 'translations': null, 'name': 'Kindergarten', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}, {'identifier': 'ncfcopy_gradelevel_grade5', 'code': 'grade5', 'translations': null, 'name': 'Grade 5', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}, {'identifier': 'ncfcopy_gradelevel_grade1', 'code': 'grade1', 'translations': null, 'name': 'Grade 1', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}, {'identifier': 'ncfcopy_gradelevel_grade2', 'code': 'grade2', 'translations': null, 'name': 'Grade 2', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}, {'identifier': 'ncfcopy_gradelevel_grade4', 'code': 'grade4', 'translations': null, 'name': 'Grade 4', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}, {'identifier': 'ncfcopy_gradelevel_grade3', 'code': 'grade3', 'translations': null, 'name': 'Grade 3', 'description': '', 'category': 'gradeLevel', 'status': 'Live'}], 'identifier': 'ncfcopy_board_ncert', 'code': 'ncert', 'translations': null, 'name': 'NCERT', 'description': '', 'index': 1, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_cbse', 'code': 'cbse', 'translations': null, 'name': 'CBSE', 'description': '', 'index': 2, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_icse', 'code': 'icse', 'translations': null, 'name': 'ICSE', 'description': '', 'index': 3, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_upboard', 'code': 'upboard', 'translations': '{"hi":"टेस्ट फ़्रेम्वर्क","ka":"ೂಾೇೂ ಿೀೋಸಾೈದೀಕ"}', 'name': 'UP Board', 'description': '', 'index': 4, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_apboard', 'code': 'apboard', 'translations': null, 'name': 'AP Board', 'description': '', 'index': 5, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_tnboard', 'code': 'tnboard', 'translations': null, 'name': 'TN Board', 'description': '', 'index': 6, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_ncte', 'code': 'ncte', 'translations': null, 'name': 'NCTE', 'description': '', 'index': 7, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_mscert', 'code': 'mscert', 'translations': '{"hi":"टेस्ट फ़्रेम्वर्क","ka":"ೂಾೇೂ ಿೀೋಸಾೈದೀಕ"}', 'name': 'MSCERT', 'description': '', 'index': 8, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_bser', 'code': 'bser', 'translations': null, 'name': 'BSER', 'description': '', 'index': 9, 'category': 'board', 'status': 'Live'}, {'identifier': 'ncfcopy_board_others', 'code': 'others', 'translations': null, 'name': 'Others', 'description': '', 'index': 10, 'category': 'board', 'status': 'Live'}], 'translations': null, 'name': 'Curriculum', 'description': '', 'index': 1, 'status': 'Live'}]}}} // eslint-disable-line
		org.ekstep.services.metaService.getFromService = jasmine.createSpy().and.callFake(function (url, headers, cb) {
			cb(undefined, {
				data: getCategoryResponse
			})
		})
		var framework = 'NCFCOPY'
		org.ekstep.services.metaService.getCategorys(framework, function (err, res) {
			expect(err).toBeUndefined()
			expect(res.data).toBeDefined()
			expect(res.data.responseCode).toEqual('OK')
			done()
		})
	})

	it('should trigger a callback on getting page assemble data', function (done) {
		var pageApiResponse = {'id': 'api.page.assemble', 'ver': 'v1', 'ts': '2019-01-07 04:11:13:883+0000', 'params': {'resmsgid': null, 'msgid': 'ba0d9900-d05c-4a61-b592-ae73d31916bc', 'err': null, 'status': 'success', 'errmsg': null}, 'responseCode': 'OK', 'result': {'response': {'name': 'ContentBrowser', 'id': '01245041694089216064', 'sections': [{'display': '{"name":{"en":"Latest Resource"}}', 'alt': null, 'count': 142, 'description': null, 'index': 1, 'sectionDataType': 'ContentBrowser', 'imgUrl': null, 'resmsgId': '45999a70-1232-11e9-ad07-55499334e8b5', 'contents': [{'ownershipType': ['createdBy'], 'code': 'test.resource.1', 'previewUrl': 'https://sunbirddev.blob.core.windows.net/sunbird-content-dev/content/do_11266478614824550413905/artifact/small_1545994422974.mp4', 'channel': 'in.ekstep', 'downloadUrl': 'https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_11266478614824550413905/test-content-for-video-streaming_1545994558739_do_11266478614824550413905_1.0.ecar', 'language': ['English'], 'mimeType': 'video/mp4', 'variants': {'spine': {'ecarUrl': 'https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_11266478614824550413905/test-content-for-video-streaming_1545994559485_do_11266478614824550413905_1.0_spine.ecar', 'size': 858}}, 'streamingUrl': 'https://sunbirddevmedia-inct.streaming.media.azure.net/599260dd-65b2-4546-bc14-c6c40505d8e1/small_1545994422974.ism/manifest(format=m3u8-aapl-v3)', 'idealScreenSize': 'normal', 'createdOn': '2018-12-28T10:53:22.862+0000', 'objectType': 'Content', 'collections': ['do_1126688957029662721600'], 'appId': 'dev.sunbird.portal', 'contentDisposition': 'inline', 'contentEncoding': 'identity', 'lastUpdatedOn': '2018-12-28T10:55:58.686+0000', 'artifactUrl': 'https://sunbirddev.blob.core.windows.net/sunbird-content-dev/content/do_11266478614824550413905/artifact/small_1545994422974.mp4', 'SYS_INTERNAL_LAST_UPDATED_ON': '2018-12-28T12:10:18.781+0000', 'dialcodeRequired': 'No', 'contentType': 'Resource', 'identifier': 'do_11266478614824550413905', 'audience': ['Learner'], 'IL_SYS_NODE_TYPE': 'DATA_NODE', 'os': ['All'], 'visibility': 'Default', 'consumerId': '9393568c-3a56-47dd-a9a3-34da3c821638', 'mediaType': 'content', 'osId': 'org.ekstep.quiz.app', 'graph_id': 'domain', 'nodeType': 'DATA_NODE', 'lastPublishedBy': 'Ekstep', 'pkgVersion': 1, 'versionKey': '1545994558686', 'idealScreenDensity': 'hdpi', 'prevState': 'Draft', 'framework': 'NCF', 's3Key': 'ecar_files/do_11266478614824550413905/test-content-for-video-streaming_1545994558739_do_11266478614824550413905_1.0.ecar', 'size': 381622, 'lastPublishedOn': '2018-12-28T10:55:58.739+0000', 'compatibilityLevel': 1, 'IL_FUNC_OBJECT_TYPE': 'Content', 'name': 'Test Content for Video Streaming', 'IL_UNIQUE_ID': 'do_11266478614824550413905', 'status': 'Live', 'node_id': 239056}], 'searchQuery': '{"request":{"query":"","filters":{"contentType":["Resource"]},"limit":"10","sort_by":{"lastUpdatedOn":"desc"}}}', 'name': 'Latest Resource', 'id': '0124503875868344328', 'apiId': 'api.content.search', 'group': 1}]}}} // eslint-disable-line
		org.ekstep.services.metaService.postFromService = jasmine.createSpy().and.callFake(function (url, data, headers, cb) {
			cb(undefined, {
				data: pageApiResponse
			})
		})
		var reqObj = {'request': {'source': 'web', 'name': 'ContentBrowser'}}
		org.ekstep.services.metaService.getPageAssemble(reqObj, function (err, res) {
			expect(err).toBeUndefined()
			expect(res.data).toBeDefined()
			expect(res.data.responseCode).toEqual('OK')
			done()
		})
	})

	it('should trigger a callback after loading form config', function (done) {
		var formConfigResponse = {'id': 'api.form.read', 'params': {'resmsgid': '0ec11e0b-413a-47bc-9ac2-59e6ccc381cf', 'msgid': 'cb1fc1ac-2466-4aa4-b8ee-100f7749b884', 'status': 'successful'}, 'responseCode': 'OK', 'result': {'form': {'type': 'content', 'subtype': 'collection', 'action': 'save', 'component': '*', 'framework': '*', 'data': {'templateName': 'defaultTemplate', 'action': 'save', 'fields': [{'code': 'appicon', 'dataType': 'url', 'description': 'App Icon', 'editable': true, 'index': 1, 'inputType': 'file', 'label': 'App Icon', 'name': 'App Icon', 'placeholder': 'App Icon', 'renderingHints': {}, 'required': false, 'visible': true}, {'code': 'name', 'dataType': 'text', 'description': 'Title of the content', 'editable': true, 'index': 2, 'inputType': 'text', 'label': 'Title', 'name': 'name', 'placeholder': 'Enter Title For Collection', 'renderingHints': {}, 'required': true, 'visible': true}, {'code': 'description', 'dataType': 'text', 'description': 'Brief description', 'editable': true, 'index': 3, 'inputType': 'textarea', 'label': 'Description', 'name': 'Description', 'placeholder': 'Brief description about the Collection', 'renderingHints': {}, 'required': false, 'visible': true}, {'code': 'keywords', 'dataType': 'list', 'description': 'Keywords for the content', 'editable': true, 'index': 4, 'inputType': 'keywordsuggestion', 'label': 'keywords', 'name': 'Keywords', 'placeholder': 'Enter Keywords', 'required': false, 'visible': true}, {'code': 'board', 'dataType': 'text', 'description': 'Curriculum', 'editable': true, 'index': 5, 'inputType': 'select', 'label': 'Curriculum', 'name': 'Curriculum', 'placeholder': 'Select Curriculum', 'renderingHints': {}, 'required': false, 'visible': true}, {'code': 'gradeLevel', 'dataType': 'list', 'description': 'Class', 'editable': true, 'index': 6, 'inputType': 'multiselect', 'label': 'Class', 'name': 'Class', 'placeholder': 'Select Class', 'renderingHints': {}, 'required': false, 'visible': true}, {'code': 'subject', 'dataType': 'text', 'description': '', 'editable': true, 'index': 7, 'inputType': 'select', 'label': 'Subject', 'name': 'Subject', 'placeholder': 'Select Subject', 'renderingHints': {}, 'required': false, 'visible': true}, {'code': 'medium', 'dataType': 'text', 'description': '', 'editable': true, 'index': 8, 'inputType': 'select', 'label': 'Medium', 'name': 'medium', 'placeholder': 'Select Medium', 'renderingHints': {}, 'required': false, 'visible': true}, {'code': 'attributions', 'dataType': 'list', 'description': 'Attributions', 'editable': true, 'index': 9, 'inputType': 'text', 'label': 'Attributions', 'name': 'attribution', 'placeholder': '', 'renderingHints': {}, 'required': false, 'visible': true}, {'code': 'audience', 'dataType': 'list', 'description': '', 'editable': true, 'index': 10, 'inputType': 'select', 'label': 'Audience', 'name': 'Audience', 'placeholder': 'Select Audience', 'renderingHints': {}, 'range': ['Learner', 'Instructor'], 'required': false, 'visible': true}]}, 'created_on': '2018-10-10T08:32:49.733Z', 'last_modified_on': null, 'rootOrgId': '*'}}, 'ts': '2019-01-07T04:29:19.360Z', 'ver': '1.0'} // eslint-disable-line
		org.ekstep.services.metaService.postFromService = jasmine.createSpy().and.callFake(function (url, data, headers, cb) {
			cb(undefined, {
				data: formConfigResponse
			})
		})
		var reqObj = {'action': 'save', 'subType': 'collection', 'framework': 'NCFCOPY', 'rootOrgId': 'b00bc992ef25f1a9a8d63291e20efc8d', 'type': 'content', 'popup': true, 'editMode': true} // eslint-disable-line
		org.ekstep.services.metaService.getFormConfigurations(reqObj, function (err, res) {
			expect(err).toBeUndefined()
			expect(res.data).toBeDefined()
			expect(res.data.responseCode).toEqual('OK')
			done()
		})
	})
})
